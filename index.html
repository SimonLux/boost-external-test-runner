<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Boost External Test Runner: External Boost Test Runner Usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Boost External Test Runner
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">External Boost Test Runner Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The External Boost Test Runner has been created so as to permit the discovery and execution of unit tests contained in a build that is not compiled as an executable but is compiled as a dynamic-link library. The command line options of the Boost External Test Runner are:</p>
<dl class="section user"><dt>&ndash;init</dt><dd>used to define the name of the initialization function to call, which by default is the Boost UTF supplied <b>init_unit_test</b> function. The initialization function needs to be exported in a <a href="http://www.tldp.org/HOWTO/C++-dlopen/thesolution.html">C style interfarce</a> otherwise the Boost External Test Runner will fail to find the entry point of the method.</dd></dl>
<dl class="section user"><dt>&ndash;test</dt><dd>used to define the path and the name of the DLL containing the Boost UTF tests.</dd></dl>
<dl class="section user"><dt>&ndash;list-debug</dt><dd>used to define the path of the output XML file that will contain the test suites, the respective tests contained in the test suite, the source file and the line number where the test has been declared. A sample XML generated by the command directive &lt;&ndash;list-debug&gt; is shown here below</dd></dl>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;BoostTestFramework source=&quot;D:\dev\svn\SampleBoostProject\Debug\TestProject.dll&quot;&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &lt;TestSuite id=&quot;1&quot; name=&quot;Master Test Suite&quot;&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        &lt;TestSuite id=&quot;2&quot; name=&quot;ExampleTestSuite&quot;&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            &lt;TestCase id=&quot;65536&quot; name=&quot;NumberTestCaseA&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;39&quot; /&gt;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            &lt;TestCase id=&quot;65537&quot; name=&quot;NumberTestCaseB&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;54&quot; /&gt;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;            &lt;TestCase id=&quot;65538&quot; name=&quot;NumberTestCaseC&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;66&quot; /&gt;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;            &lt;TestCase id=&quot;65539&quot; name=&quot;NumberTestCaseD&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;80&quot; /&gt;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;            &lt;TestCase id=&quot;65540&quot; name=&quot;NumberTestCaseE&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;92&quot; /&gt;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;            &lt;TestCase id=&quot;65541&quot; name=&quot;NumberTestCaseF&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;104&quot; /&gt;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;            &lt;TestCase id=&quot;65542&quot; name=&quot;NumberTestCaseG&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;118&quot; /&gt;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;            &lt;TestCase id=&quot;65543&quot; name=&quot;NumberTestCaseH&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;134&quot; /&gt;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;            &lt;TestCase id=&quot;65544&quot; name=&quot;NumberTestCaseI&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;156&quot; /&gt;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;            &lt;TestCase id=&quot;65545&quot; name=&quot;NumberTestCaseJ&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;168&quot; /&gt;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;            &lt;TestCase id=&quot;65546&quot; name=&quot;NumberTestCaseK&quot; file=&quot;d:\dev\svn\testproject\numbertest.cpp&quot; line=&quot;190&quot; /&gt;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        &lt;/TestSuite&gt;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    &lt;/TestSuite&gt;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;&lt;/BoostTestFramework&gt;</div>
</div><!-- fragment --><dl class="section user"><dt>&ndash;list</dt><dd>used to define the path of the output XML file similar to <b>&ndash;list-debug</b>, but will contain only the test suites and the names of the tests. A sample XML generated by the command directive <b>&ndash;list</b> is shown here below</dd></dl>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;BoostTestFramework source=&quot;D:\dev\svn\SampleBoostProject\Debug\TestProject.dll&quot;&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &lt;TestSuite id=&quot;1&quot; name=&quot;Master Test Suite&quot;&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        &lt;TestSuite id=&quot;2&quot; name=&quot;ExampleTestSuite&quot;&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            &lt;TestCase id=&quot;65536&quot; name=&quot;NumberTestCaseA&quot; /&gt;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            &lt;TestCase id=&quot;65537&quot; name=&quot;NumberTestCaseB&quot; /&gt;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;            &lt;TestCase id=&quot;65538&quot; name=&quot;NumberTestCaseC&quot; /&gt;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;            &lt;TestCase id=&quot;65539&quot; name=&quot;NumberTestCaseD&quot; /&gt;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;            &lt;TestCase id=&quot;65540&quot; name=&quot;NumberTestCaseE&quot; /&gt;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;            &lt;TestCase id=&quot;65541&quot; name=&quot;NumberTestCaseF&quot; /&gt;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;            &lt;TestCase id=&quot;65542&quot; name=&quot;NumberTestCaseG&quot; /&gt;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;            &lt;TestCase id=&quot;65543&quot; name=&quot;NumberTestCaseH&quot; /&gt;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;            &lt;TestCase id=&quot;65544&quot; name=&quot;NumberTestCaseI&quot; /&gt;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;            &lt;TestCase id=&quot;65545&quot; name=&quot;NumberTestCaseJ&quot; /&gt;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;            &lt;TestCase id=&quot;65546&quot; name=&quot;NumberTestCaseK&quot; /&gt;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        &lt;/TestSuite&gt;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    &lt;/TestSuite&gt;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;&lt;/BoostTestFramework&gt;</div>
</div><!-- fragment --><p>The typical command line usage of the Boost External Test Runner so as to enumerate tests is</p>
<p><code>BoostExternalTestRunner.exe &ndash;test "{source}" &ndash;list-debug "{out}"</code></p>
<p>where <code>{source}</code> would be replaced by the full or relative path along with the filename of the DLL containing the Boost UTF tests and <code>{out}</code> would be replaced by the full or relative path along with filename of where the output XML file containing the enumeration of tests would be generated at.</p>
<p>An example of the enumeration command is</p>
<p><code>BoostExternalTestRunner.exe &ndash;test "D:\dev\svn\SampleBoostProject\Debug\TestProject.dll" &ndash;list-debug "D:\dev\svn\SampleBoostProject\Debug\TestProject.detailed.xml"</code></p>
<p>The typical command line usage of the Boost External Test Runner so as to execute tests is</p>
<p><code>BoostExternalTestRunner.exe &ndash;test "{source}" {boost-args}</code></p>
<p>where <code>{source}</code> would be replaced by the full or relative path along with the filename of the dll containing the Boost UTF tests and <code>{boost-args}</code> would contain Boost UTF directives as documented at <a href="http://www.boost.org/doc/libs/1_55_0/libs/test/doc/html/utf/user-guide.html">http://www.boost.org/doc/libs/1_55_0/libs/test/doc/html/utf/user-guide.html</a> or more specifically at <a href="http://www.boost.org/doc/libs/1_55_0/libs/test/doc/html/utf/user-guide/runtime-config/run-by-name.html">http://www.boost.org/doc/libs/1_55_0/libs/test/doc/html/utf/user-guide/runtime-config/run-by-name.html</a></p>
<p>An example of a valid Boost External Test Runner command so as to run a specific test is <code>BoostExternalTestRunner.exe &ndash;test "D:\dev\svn\SampleBoostProject\Debug\TestProject.dll" &ndash;log_level=test_suite &ndash;run_test=ExampleTestSuite/NumberTestCaseA</code>.</p>
<p>Another example command where a user might want to execute all tests without specifying any Boost UTF options is <code>BoostExternalTestRunner.exe &ndash;test "D:\dev\svn\SampleBoostProject\Debug\TestProject.dll"</code>.</p>
<p>In order for the External Boost Test Runner to be able to successfully load, discover and execute tests of a DLL build containing the Boost Unit Tests the following conditions must be observed:</p>
<dl class="section user"><dt></dt><dd>i) Both the External Test Runner and DLL must be built with same configuration type (<b>debug</b> or <b>release</b>). </dd></dl>
<dl class="section user"><dt></dt><dd>ii) Both the External Test Runner and DLL must be built with same target solution (<b>Win32</b> or <b>x64</b>). </dd></dl>
<dl class="section user"><dt></dt><dd>iii) Both the External Test Runner and dll must be built using the same version of Boost. </dd></dl>
<dl class="section user"><dt></dt><dd>iv) stdafx.h must contain the following #define and the following #include. <div class="fragment"><div class="line"><span class="preprocessor">#ifndef BOOST_TEST_DYN_LINK</span></div>
<div class="line"><span class="preprocessor">#define BOOST_TEST_DYN_LINK</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;boost/test/unit_test.hpp&gt;</span></div>
</div><!-- fragment --> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 29 2015 15:49:20 for Boost External Test Runner by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
